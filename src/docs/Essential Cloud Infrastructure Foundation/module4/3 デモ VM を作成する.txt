VMインスタンスの作成プロセスを簡単に説明して、GCP ConsoleのCPU、ストレージ、ネットワークのオプションを紹介します
これはCompute Engineのインスタンスのページです
アクセスするにはナビゲーションメニューで、[Compute Engine]をクリックします
このコースで何度も使用することになるので、固定しておくと便利です
次に[VMインスタンス]を選択します
それではインスタンスの作成時に使用できるオプションを見ていきましょう
まずは[作成]をクリックします
最初に上部で名前を指定します
ここで重要になるのが、インスタンスを配置するロケーションです
使用可能なリージョンがすべて表示されます
リージョン名のほかに、リージョンに最も近い都市も示されています
リージョンごとに選択できるゾーンが複数用意されています
右側で現在の構成に関連する費用も確認できます
構成を変更するとこの費用も変わります
たとえば、インスタンスをus-central1ではなく、europe-west1に作成するように変更すると、費用が少し調整されたのがわかります
別のロケーションを選択して、いくつか試してみましょう
選択したリージョンに応じて、費用も変わっています
先に進んでマシンタイプを選びます
さまざまなタイプがありますので説明していきますが、ここにそれぞれのタイプの内容も表示されます
このn1-standard1はvCPUが１個でメモリが3.75GBです
CPU数とメモリ量がこれより多いマシンに変更すると、費用も調整されます
詳細を確認することも可能です
CPUとメモリの実質的な費用が詳しく示されます
永続ディスクの費用も表示されていますが、まだ構成が完了していませんのでこれはデフォルト値です
構成するとこの費用が調整されます
継続利用割引についても後で説明しますが、基本的にはこれらすべてが最終的に１か月の総費用になります
１時間あたりの費用も表示されています
料金についてはモジュール後半で詳しく説明します
より大規模なマシンタイプを選択すれば、費用が高くなります
共有コアの小規模なマシンだけでよければ、費用が大幅に下がります
デフォルトに戻しておきましょう
リージョンとゾーンに関して検討すべきことは、費用だけではありません
インスタンスはユーザーの近くに作成する必要があります
高可用性を確保するには複数リージョンへの分散も必要です
データの局所性に制約がある可能性もあります
つまりデータを特定のリージョンに保管する必要があります
リージョンとゾーンを選択する際は、これらすべてを検討してください
さらに下に行くと、基本オプションの一つである[ブートディスク]があります
現在指定されているのは、10GBの標準永続ディスクです
これを変更します
イメージはもちろん、ブートディスクの種類も変更できます
ブートディスクには永続ディスクを使います
選択肢は標準永続ディスクつまりHDDとSSDです
さらにサイズを定義できます
両ディスクの最大サイズはまったく同じです
サイズを1000に変更すると、そのディスクサイズに合わせて費用が調整されたことがわかります
大きすぎるので元に戻しておきます
ブートディスクは10GBで問題ないでしょう
ディスクの追加もできます
下にスクロールして、[管理、セキュリティ、ディスク、ネットワーク、単一テナンシー]をクリックし、[ディスク]に移動します
ここでディスクの暗号化の種類を選択できます
[Googleが管理する鍵]、[お客様が管理する鍵]、[お客様が指定する鍵]です
ディスクを追加しましょう
[新しいディスクを追加]をクリックします
[タイプ]で[ローカルSSD]を選択します
事前定義されたサイズが表示され、ディスクの数に応じて下のパフォーマンスが調整されます
上限があるので、ディスク数を増やし続けても一定のポイントでパフォーマンスは上限に達します
SSDディスクを選択してサイズを変更する場合も同様です
上限がありますが、スケーリングに合わせてIOPSや持続的なスループットの上限が変わります
もう一つ重要なのは[ネットワーキング]です
クリックしてネットワークインターフェースを変更できます
前のモジュールで簡単に説明したように、プライマリ内部IPの選択や外部IPを指定するかどうかなど、さまざまなオプションを使用できます
すべてGCP Consoleで行えるので非常に便利です
しかし将来CLIで、すばやくインスタンスを作成したいこともあるかもしれません
そんなときのためにこのUIにはCLIオプションが用意されています
gcloudを使用して再作成する場合のオプションのコマンドがすべて示されます
CLIの使用をはじめる際にこれが役立ちます
CLIが身近になるでしょう
先に進んでこのインスタンスを作成します
作成が完了すると複数の列が表示されます
他の列を選択することもできます
たとえば作成日時やマシンタイプ、属しているネットワーク、ラベルなど多数の項目を選択して表示できます
この例ではマシンの作成日時、タイプ、属しているネットワークが表示されています
このようにVMインスタンスのロケーション、CPU、メモリ、ストレージ、ネットワークインターフェースは、GCP Consoleで簡単に構成できます
スライドに戻ってVMアクセスとライフサイクルを確認しましょう
