GCP Marketplaceでインフラソリューションを起動する方法を説明します
目標はLAMPスタックを単一のCompute Engineインスタンスにデプロイすることです
LAMPスタックはLinux、Apache、HTTP Server、MySQL、PHPで構成されています
この画面はGCP Consoleです
では、GCP Marketplaceへ移動しましょう
ナビゲーションメニューで[マーケットプレイス]を選択します
ご覧のとおり、多数のオプションが表示されました
左側のフィルタで表示を絞り込むことも直接探すこともできます
ここは、おすすめソリューションの欄です
選べるソリューションは実にたくさんあります
ここでは、LAMPスタックを作成したいので、それを検索してみましょう
複数のオプションが表示されましたが、プロバイダが異なります
さまざまなプロバイダが同様のサービスを提供しているということですね
１つ目をクリックしてみましょう
構成ページが表示されました
ここにパッケージの内容やLAMPの説明があります
オペレーティングシステムはLinuxですね
Apacheがインストールされています
PHPとMySQLも入っています
HTTPにも対応しているはずなので、あとでチェックしてみましょう
サービスの使用料は無料のようです
有料ならここに表示されるはずですから、インスタンスは課金制です
n1-standard-1インスタンスとその永続ディスクだけですね
あと継続利用割引があります
[Compute Engine上で起動]をクリックすると、VM構成ページが表示されます
ここでインスタンスのタイプを変更できます
大きい/小さいインスタンスの作成や、カスタマイズも可能です
これはApache HTTPなので、HTTPファイアウォールルールも設定されています
別の場所に配置したい場合はネットワーキングオプションもあります
phpMyAdminをインストールしたければ、そのオプションもあります
ディスクはここで選択できます
Stackdriver LoggingとMonitoringを有効化するオプションもあります
ここで選ぶだけです
通常のVMインスタンスページと似ていますね
では、[デプロイ]をクリックします
すると、Deployment Managerに移動します
ここに、すべての構成とインポートされた全ファイルが表示されます
これらがデプロイ全体に使用されます
このように、ソリューションの起動に必要なのはDeployment Managerでの構成のみです
セットアップは済んでいるので、改めて作成する必要はありません
パスワードも生成されています
VMは生成中ですね
クリックすると、詳しい情報が表示されます
いくつかソフトウェアがあって、HTTPファイアウォールルールがあります
TCP 80だけです
まだ処理中なので、完了するまで待ちましょう
インスタンスが起動して今ソフトウェアの構成中です
これが完了して起動すれば、生成したLAMPスタックの詳細を確認できます
“lamp.“に戻ってみましょう
まだ保留中ですが、起動すると詳しい情報がここに表示されます
アドレスはまだ表示されませんね
たぶんもう少しで...
表示されました
ユーザー、パスワード、インスタンス、ゾーンのすべての情報が表示されています
このサイトにアクセスし、SSHで接続できます
次のステップの説明もあります
HTTPSトラフィックを開いたり、パスワードを変更したり、デフォルトのエフェメラルIPアドレスでなく静的な外部IPアドレスを割り当てたりできます
インストールされたソフトウェアの詳細も見れます
これはCompute Engineからも確認できます
Compute Engineへ移動すると、ここにインスタンスが表示されます
このように、GCP Marketplaceでは、インフラソリューションを簡単に起動できます
