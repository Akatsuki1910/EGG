Google Cloudの各種ロードバランシングサービスについて説明しました
次に、ニーズに最適なロードバランサの選択方法を取り上げます
GCPロードバランサの差別化要因の一つに、IPv6クライアントのサポートがあります
HTTP(S)、SSLプロキシ、TCPプロキシの各ロードバランシングサービスでのみ、IPv6クライアントがサポートされています
このようなロードバランサにIPv6終端を使用すると、ユーザーからのIPv6リクエストを処理してIPv4経由でバックエンドにプロキシできます
たとえばこの図には、ウェブサイトwww.example.comがあります
これはCloud DNSによって、IPv4とIPv6の両方のアドレスに変換されます
これにより、ニューヨークのデスクトップユーザーとアイオワのモバイルユーザーが、それぞれIPv4アドレスとIPv6アドレスでロードバランサにアクセスできます
ではトラフィックはどのように、バックエンドとそのIPv4アドレスに到達するのでしょうか
ロードバランサはリバースプロキシとして機能し、IPv6クライアント接続を終端して、バックエンドへのIPv4接続にリクエストを配置します
逆の経路では、ロードバランサはバックエンドからIPv4レスポンスを受け取り、これをIPv6接続経由で元のクライアントに送り返します
つまりロードバランサにIPv6終端を構成すると、IPv6クライアントにとってバックエンドインスタンスがIPv6アプリとなります
特定のGoogle Cloudの実装に、どのロードバランサが最適かを判断するには、次の側面からCloud Load Balancingを検討します
グローバル/リージョン、ロードバランシングの比較、外部/内部ロードバランシングの比較、トラフィックタイプです
外部ロードバランシングサービスが必要な場合は、このフローチャートの左上から開始します
まずロードバランサで処理するトラフィックのタイプを選択します
HTTPまたはHTTP(S)トラフィックの場合は、HTTP(S)ロードバランシングサービスのレイヤ７ロードバランサとしての使用をおすすめします
それ以外の場合は、フローチャートのTCPトラフィックとUDPトラフィックのパスを使用して、SSLプロキシ、TCPプロキシ、ネットワークのいずれのサービスがニーズを満たすか検討します
内部ロードバランシングサービスが必要な場合は、このサービスを使用可能な状態にすれば、TCPとUDP両方のトラフィックがサポートされます
このモジュールの冒頭で述べたとおり、実際には内部ロードバランサがもう１つありますが、HTTP(S)トラフィック向けのもので現時点ではまだベータ版です
この第６のロードバランサはHTTPまたはHTTP(S)トラフィック向けのリージョンのロードバランサで、IPv4クライアントに対応しています
フローチャートではなく表で見たい場合は、このサマリー表をご覧ください
トラフィックタイプ、バックエンドの分散状況（グローバルまたはリージョン）、バックエンドのIPアドレスのタイプ（外部または内部）に基づいて、適切なロードバランサを選択できます
また表にはロードバランシングに使用可能なポートも記載されており、グローバルロードバランサのみが、IPv4とIPv6の両方のクライアントをサポートしていることがわかります
