リージョンロードバランシングサービスである、ネットワークロードバランシングについて説明します
これはプロキシを使用しないリージョンの不可分散サービスです
つまり全トラフィックが、プロキシではなくロードバランサを介して渡されます
グローバルLBとは異なり、同じリージョンに存在するVMインスタンスの間でのみ、トラフィックを分散できます
このサービスは転送ルールを使用して、アドレス、ポート、プロトコルタイプなどの受信IPプロトコルデータに基づき、システム上の負荷を分散させます
またUDPトラフィックの負荷分散のほか、TCPおよびSSLプロキシLBを使用したサポートされていないポートでのTCPおよびSSLトラフィックの負荷分散が可能です
ネットワークLBのアーキテクチャは、バックエンドサービスベースとターゲットプールベースのどちらのネットワークLBを使用するかで異なります
さらに詳しく見ていきましょう
新しいネットワークLBは、LBの動作とバックエンドインスタンスグループへのトラフィック分散を定義するリージョンバックエンドサービスを使用して作成できます
バックエンドサービスを使用すると、以前のターゲットプールではサポートされない新しい機能が有効になります
具体的には、非レガシーヘルスチェック（TCP、SSL、HTTP、HTTPS、HTTP/2）のサポート、マネージドインスタンスグループによる自動スケーリング、コネクションドレイン、構成可能なフェイルオーバーポリシーなどです
既存のターゲットプールベースのネットワークLBを移行して、バックエンドサービスを使用することもできます
ターゲットプールリソースとは何でしょうか
ターゲットプールリソースでは、転送ルールから受信トラフィックを受け取るインスタンスのグループを定義します
転送ルールがトラフィックをターゲットプールに送信する際は、LBが送信元IPとポート、宛先IPとポートのハッシュに基づいて、そのターゲットプールからインスタンスを選択します
このようなターゲットプールは、TCPとUDPトラフィックを処理する転送ルールと組み合わせた場合のみ使用できます
各プロジェクトに設定できるターゲットプールは最大50で、各ターゲットプールに設定できるヘルスチェックは１つです
またターゲットプールの全インスタンスが同じリージョンにある必要があります
これはネットワークLBの場合と同じ制限です
