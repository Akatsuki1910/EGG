HTTP(S)ロードバランサの基本構造は、HTTPロードバランサと同じですが、次の点で異なります
HTTP(S)LBはターゲットHTTPプロキシではなく、ターゲットHTTPSプロキシを使用します
HTTP(S)LBの場合、LBのターゲットHTTPSプロキシに、署名済みのSSL証明書が１つ以上インストールされている必要があります
クライアントSSLセッションはLBで終端します
またHTTP(S)LBではQUICがサポートされています
QUICはトランスポート層プロトコルで、クライアント接続をすばやく開始でき、多重化ストリームでヘッドオブラインブロッキングを発生させません
クライアントのIPアドレスが変更された場合には、接続を移行できます
詳しくはコースのリソースにあるリンクをご覧ください
HTTP(S)を使用するには、LBのターゲットプロキシで使用できるSSL証明書を少なくとも１つ作成する必要があります
最大10個のSSL証明書を使用して、ターゲットプロキシを構成できます
SSL証明書ごとにSSL証明書リソースを作成します
このリソースにはSSL証明書情報が含まれています
SSL証明書リソースは、ターゲットHTTPSプロキシやターゲットSSLプロキシなど、負荷分散プロキシでのみ使用します
これについては後で説明します
バックエンドバケットでは、Cloud StorageバケットをHTTP(S)負荷分散とともに使用できます
外部HTTP(S)LBはURLマップを使用して、指定されたURLからのトラフィックをバックエンドサービスまたはバックエンドバケットに送信します
一般的なユースケースには、動的コンテンツ（データなど）に対するリクエストのバックエンドサービスへの送信、静的コンテンツ（画像など）に対するリクエストのバックエンドバケットへの送信があります
この図では、パス/love-to-fetch/を含むトラフィックが、LBによりeurope-northリージョンのCloud Storageバケットに送信され、その他のリクエストはus-eastリージョンのCloud Storageバケットに送信されています
バックエンドバケットを使用して、LBを構成すると/love-to-fetch/で始まるURLパスへのリクエストは、europe-north Cloud Storageバケットに送信され、その他のすべてのリクエストはus-east、Cloud Storageバケットに送信されます
NEGはバックエンドエンドポイント、またはサービスのグループを指定する構成オブジェクトです
この構成の一般的なユースケースは、サービスをコンテナにデプロイすることです
バックエンドインスタンスで実行されているアプリに、トラフィックを細かく分散させることもできます
NEGは一部のLBのバックエンドとして使用でき、Traffic Directorと組み合わせても使用できます
ゾーンNEGおよびインターネットNEGは、エンドポイントへの到達方法、到達の可否、配置場所を定義します
これらのNEGタイプと異なり、サーバーレスNEGにはエンドポイントが含まれません
ゾーンNEGには、１つ以上のエンドポイントが含まれます
これにはCompute EngineのVMやそのVM上で実行されるサービスなどがあります
各エンドポイントはIPアドレスまたは、IP:Portを組み合わせて指定します
インターネットNEGには、Google Cloudの外部でホストされる単一のエンドポイントが含まれます
このエンドポイントはホスト名FQDN:Port、またはIP:Portで指定します
ハイブリッド接続NEGは、Google Cloudの外部で実行されているTraffic Directorサービスを指します
サーバーレスNEGはNEGと同じリージョンにある、Cloud Run、App Engine、Cloud Functionsサービスを指します
各NEGの詳しい使用方法については、コースのリソースにあるリンクをご覧ください
