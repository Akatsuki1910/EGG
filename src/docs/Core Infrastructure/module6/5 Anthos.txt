分散型のシステムとサービス用のハイブリッドアーキテクチャに関する話を、最近よく耳にするかもしれません
最新型のハイブリッド/マルチクラウドの分散システムとサービスを管理する、GoogleのソリューションがAnthosです
Anthosとは何でしょうか？
Anthosは分散システムとサービスを管理する、Googleソフトウェアの最新機能を活用した、ハイブリッド/マルチクラウド向けソリューションです
AnthosのフレームワークはKubernetesとGKE On-Premで機能し、中央のコントロールプレーンで一元管理可能な、完全に統合されたアーキテクチャの基盤を提供します
これによりハイブリッド/マルチクラウド環境での、ポリシーに基づくアプリのライフサイクル提供が可能です
また、Anthosは、すべてのネットワークでアプリの整合性をモニタして維持するための、豊富なツールセットを備えています
オンプレミス、クラウド、マルチクラウドなど、環境は問いません
Anthosで最新のハイブリッドインフラのスタックを一つひとつ構築しながら、このフレームワークを詳しく見てみましょう
まず、ハイブリッドネットワークのクラウド側にあるGKEに注目します
GKEは、コンテナ化されたアプリをデプロイするための、本番環境に対応したマネージド環境です
高可用性とSLAに対応し、シームレスに動作します
Certified Kubernetesが実行されるため、クラウドやオンプレミスとの間でワークロードを移動でき、ノードの自動修復、自動アップグレード、自動スケーリングが可能です
リージョンクラスタを使い、複数のコントロールプレーンと、複数ゾーン間のノードストレージレプリケーションにより、高可用性を実現します
ハイブリッドネットワークのオンプレミス側にあるのがGKE On-Premです
GKE On-Premは推奨される構成が事前に読み込まれた、すぐに使用できる、本番環境グレードかつ適合バージョンのKubernetesです
Googleによって検証、テストされた最新版Kubernetesに、簡単にアップグレード可能です
Cloud Build、Container Registry、Cloud Audit Logsなどの、Google Cloudのコンテナサービスにアクセスできます
Istio、Knative、Cloud Marketplaceの各ソリューションと統合されています
クラウド環境とオンプレミス環境で、Kubernetesの一貫したバージョンと操作性を実現します
GKEとGKE On-PremはいずれもMarketplaceと統合されており、オンプレミスかクラウドかを問わずネットワーク内のすべてのクラスタが、コンテナ化されたアプリの同じリポジトリにアクセスできます
これによって、ネットワークの両側で同じ構成を使用でき、クラスタ間の整合性維持にかかる時間を短縮できます
記述したコードをあらゆる場所に複製できるので、アプリの開発にかかる時間も短縮されます
エンタープライズアプリは演算ワークロードの処理に何百ものマイクロサービスを使う場合があります
大量のサービスを管理して健全性をモニタするのは困難になりがちです
Anthos Service MeshとIstioオープンソースサービスメッシュは、マイクロサービスの管理と保護から不確定な要素をすべて除きます
これらのサービスメッシュはCloud Interconnectを使い、ハイブリッドネットワーク内でデータを同期、転送します
Cloud LoggingとCloud Monitoringは Google Cloudの組み込みのロギング/モニタソリューションです
Google Cloudのオペレーションスイートは、ロギング、指標収集、モニタ、ダッシュボード、アラートをフルマネージドで提供し
ハイブリッド/マルチクラウドネットワークの全体をモニタできます
簡単に構成できるクラウドベースの強力なオブザーバビリティを備えた理想的なソリューションであり、情報を一括表示するダッシュボードですべての環境をモニタできます
最後に Anthos Configuration Managementは、クラスタ構成に関する信頼できる唯一の情報源を提供します
これは、gitリポジトリであるポリシーリポジトリに保存されます
このリポジトリは、オンプレミスに置くかクラウドでホストできます
Anthos Configuration Managementエージェントはポリシーリポジトリを使い、各環境でローカルに構成を適用することで、環境をまたいでクラスタを所有することの複雑さを軽減します
Anthos Configuration Managementにより、管理者や開発者は、リポジトリに加えたコードの変更を１回のcommitでデプロイできます
また、Namespaceを使って構成の継承を実装できます
これにより、アプリ内で名前と権限の競合を防げます
Anthosの詳細についてはcloud.google.com/anthosをご覧ください
