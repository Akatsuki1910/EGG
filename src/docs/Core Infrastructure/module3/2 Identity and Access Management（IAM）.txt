組織ノードに多くのフォルダ、プロジェクト、リソースがあると、誰が何にアクセスできるかを制限する必要があります
それには管理者がIAMを使用します
IAMでは、誰がどのリソースで何をできるかが定義されたポリシーを管理者が適用できます
IAMポリシーでいう“誰”とは、Googleアカウント、Googleグループ サービスアカウント、Cloud Identityドメインです
IAMポリシーでいう“何をできるか”はロールで定義されます
IAMロールは権限の集合です
たとえばプロジェクト内のVMインスタンスを管理するには、VMを作成、削除、開始、停止、変更できる必要があります
理解と管理がしやすいよう権限が１つのロールにまとめられています
ユーザー、グループ、サービスアカウントにリソース階層の要素に対するロールを付与すると、選択した要素と下位のすべての要素にポリシーが適用されます
IAMには基本、事前定義、カスタムの３種類のロールがあります
最初は基本ロールです
基本ロールは範囲の広いロールです
Google Cloudプロジェクトに適用されるとリソースに影響します
基本ロールにはオーナー、編集者、閲覧者、課金管理者が含まれます
基本ロールを詳しく見てみましょう
閲覧者はリソースにアクセスできますが変更できません
編集者はリソースにアクセスして編集できます
オーナーもリソースへのアクセスと編集が可能です
またオーナーは関連ロールと権限の管理、支払い情報の設定を行います
企業ではユーザーに課金管理の権限を与え、プロジェクトのリソース変更権限は与えないことがあります
これは課金管理者ロールで実現できます
注意点として、機密データのあるプロジェクトで複数のユーザーが共同作業する場合、基本ロールでは範囲が広すぎます
幸いにも、IAMでは一般的なジョブロールのニーズに応じて、より具体的に指定された権限を割り当てる方法があります
第２のロールである、事前定義ロールを説明します
一部のGoogle Cloudサービスには事前定義ロールが用意され、それらのロールを適用できる場所も定義されています
たとえばCompute Engineは、VMをサービスとして提供するプロダクトです
Compute Engineでは、インスタンス管理者などの事前定義ロールを、特定のプロジェクトやフォルダ、組織全体のCompute Engineリソースに適用できます
ロールが付与されたユーザーは定義されたアクションセットを実行できます
さらに具体的な権限を持つロールを割り当てる必要がある場合は、カスタムロールがあります
多くの企業は最小権限モデルを使用し、各ユーザーには職務に必要な最小限の権限しか与えません
たとえば“インスタンスオペレーター”ロールを定義し、ユーザーにCompute Engine VMの起動と停止は許可するが、再構成は許可しないなどです
カスタムロールでは権限を細かく定義できます
カスタムロールを作成する前に２つの点に注意してください
第１に、作成したカスタムロールを定義する権限の管理が必要になります
その理由から事前定義ロールの使用を選ぶ組織もあります
第２にカスタムロールを適用できるのはプロジェクトレベルか組織レベルのみで
フォルダレベルには適用できません
