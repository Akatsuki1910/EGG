組織ノードに多くのフォルダ
プロジェクト、リソースがあると 誰が何にアクセスできるかを
制限する必要があります それには管理者がIAMを使用します IAMでは 誰がどのリソースで何をできるかが
定義されたポリシーを管理者が適用できます IAMポリシーでいう“誰”とは
Googleアカウント、Googleグループ サービスアカウント
Cloud Identityドメインです IAMポリシーでいう“何をできるか”は
ロールで定義されます IAMロールは権限の集合です たとえばプロジェクト内の
VMインスタンスを管理するには VMを作成、削除、開始、停止
変更できる必要があります 理解と管理がしやすいよう
権限が１つのロールにまとめられています ユーザー、グループ、サービスアカウントに
リソース階層の要素に対するロールを付与すると 選択した要素と下位のすべての要素に
ポリシーが適用されます IAMには基本、事前定義
カスタムの３種類のロールがあります 最初は基本ロールです 基本ロールは範囲の広いロールです Google Cloudプロジェクトに適用されると
リソースに影響します 基本ロールにはオーナー、編集者
閲覧者、課金管理者が含まれます 基本ロールを詳しく見てみましょう 閲覧者はリソースにアクセスできますが
変更できません 編集者は
リソースにアクセスして編集できます オーナーも
リソースへのアクセスと編集が可能です またオーナーは関連ロールと権限の管理
支払い情報の設定を行います 企業ではユーザーに課金管理の権限を与え プロジェクトのリソース変更権限は
与えないことがあります これは課金管理者ロールで実現できます 注意点として 機密データのあるプロジェクトで
複数のユーザーが共同作業する場合 基本ロールでは範囲が広すぎます 幸いにも IAMでは
一般的なジョブロールのニーズに応じて より具体的に指定された権限を
割り当てる方法があります 第２のロールである
事前定義ロールを説明します 一部のGoogle Cloudサービスには
事前定義ロールが用意され それらのロールを適用できる場所も
定義されています たとえばCompute Engineは
VMをサービスとして提供するプロダクトです Compute Engineでは
インスタンス管理者などの事前定義ロールを 特定のプロジェクトやフォルダ、組織全体の
Compute Engineリソースに適用できます ロールが付与されたユーザーは
定義されたアクションセットを実行できます さらに具体的な権限を持つロールを
割り当てる必要がある場合は カスタムロールがあります 多くの企業は最小権限モデルを使用し 各ユーザーには
職務に必要な最小限の権限しか与えません たとえば
“インスタンスオペレーター”ロールを定義し ユーザーにCompute Engine VMの
起動と停止は許可するが 再構成は許可しないなどです カスタムロールでは
権限を細かく定義できます カスタムロールを作成する前に
２つの点に注意してください 第１に 作成したカスタムロールを定義する
権限の管理が必要になります その理由から
事前定義ロールの使用を選ぶ組織もあります 第２にカスタムロールを適用できるのは
プロジェクトレベルか組織レベルのみで フォルダレベルには適用できません