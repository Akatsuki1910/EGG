このセクションでは Google Cloudの機能の構造を説明します Google Cloudのリソース階層には
４つのレベルがあり 下から リソース、プロジェクト
フォルダ、組織ノードです 最初のレベルはリソースです VM、Cloud Storageバケット
BigQueryのテーブルなど Google Cloudのすべてのリソースがあります リソースは第２レベルの
プロジェクトにまとめられます プロジェクトはフォルダ
またはサブフォルダにまとめられ それが第３レベルです 最上位が組織ノードです 組織内のすべてのプロジェクト
フォルダ、リソースが含まれます このリソース階層を知ることが重要です Google Cloudのポリシーの管理と適用方法に
関連するからです ポリシーはプロジェクト、フォルダ
組織ノードの各レベルで定義できます 一部のGoogle Cloudサービスでは
リソースごとにもポリシーを適用できます ポリシーは下位に継承され フォルダに適用されたポリシーが
そのフォルダの全プロジェクトに適用されます リソース階層の第２レベルである
プロジェクトを見ていきましょう プロジェクトはCloudサービスを
使用するための基礎で API管理、課金の有効化
協力者の追加と削除 他のGoogleサービスの有効化などを行えます 各プロジェクトは
組織ノードの下の独立したエンティティで 各リソースは
１つのプロジェクトだけに属します プロジェクトは個別に課金および管理されるため
異なるオーナーとユーザーを設定できます Google Cloudプロジェクトは
プロジェクト ID、プロジェクト名 プロジェクト番号という
３つの属性で識別されます プロジェクトIDは
Googleが割り当てた一意のIDで 作成後に変更できません つまり不変です プロジェクトIDは
さまざまな状況で使用され Google Cloudに対象のプロジェクトを知らせます プロジェクト名はユーザーが作成します 一意にする必要はなく
いつでも変更でき 不変ではありません プロジェクトには
一意のプロジェクト番号も割り当てられます 番号の存在を知っていると便利ですが
このコースでは詳しく説明しません 主にGoogle Cloudが
内部でリソース管理に使用します リソースマネージャーツールはプロジェクトを
プログラムで管理するためのものです これはAPIで アカウントに関連する
プロジェクトの全リストの収集 プロジェクトの新規作成
既存プロジェクトの更新 プロジェクトの削除などが可能です 削除されたプロジェクトの復元も可能です RPC APIやREST APIを使用して
アクセスできます リソースの第３レベルはフォルダです フォルダでは選択した粒度で
リソースにポリシーを割り当てられます フォルダ内のリソースは
そのフォルダのポリシーと権限を継承します フォルダには
プロジェクトや他のフォルダを格納できます フォルダを使うと 組織のプロジェクトを
階層的にグループ化できます たとえば組織に複数の部門があり 各部門が独自のリソースセットを
使用している場合 フォルダを使用することで
リソースを部門別にグループ化できます チームはフォルダを使用して管理権限を委任し
別々に作業できます 前述のとおりフォルダ内のリソースは
フォルダのポリシーと権限を継承します たとえば 同じチームが管理する
２つの異なるプロジェクトがある場合 共通フォルダにポリシーを設定することで
両方に同じ権限を付与できます ポリシーを複製して
２つのプロジェクトに配置する方法では 手間がかかり
エラーが発生しやすくなります 両方のリソースの権限を変更するには
２つの場所で変更する必要があります フォルダを使用するには
組織ノードが必要で これはGoogle Cloud階層の
最上位リソースです プロジェクトやフォルダなど
アカウントに関連する他のすべてのリソースは このノードに配置されます 最上位の組織ノードに関連付けられた
特別なロールがあります たとえば組織ポリシー管理者を指定すると 権限を持つユーザーだけが
ポリシーを変更できます プロジェクト作成者ロールを割り当てると プロジェクトを作成して
経費を使うユーザーを管理できます 新しい組織ノードの作成方法は
Google Workspaceの使用の有無で変わります Workspaceドメインがある場合は
プロジェクトは自動的に組織ノードに属します ドメインがない場合は
Cloud Identityを使用できます これはGoogleのID、アクセス、アプリ
エンドポイント管理プラットフォームです 組織ノードを作成すると ドメイン内の全ユーザーがプロジェクトや
請求先アカウントを作成できるようになります その下にフォルダを作成し
プロジェクトを置くこともできます フォルダとプロジェクトはどちらも
組織ノードの子となります